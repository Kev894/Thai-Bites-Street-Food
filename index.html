<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Thai Bites Street Food | Hindley</title>
  <meta name="description" content="Thai Bites Street Food – Pick-up & Delivery in Hindley, Wigan. Authentic Thai dishes and weekly specials."/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{ --brand:#0ea5e9; --brand-dark:#0284c7; --bg:#0b1220; --card:#101a2d; --muted:#96a3b3; --text:#e6eef8; --accent:#22c55e; }
    *{box-sizing:border-box} html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:Poppins,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,sans-serif}
    a{color:inherit}
    header{ position:sticky;top:0;z-index:50;background:linear-gradient(180deg, rgba(16,26,45,0.95), rgba(16,26,45,0.7)); backdrop-filter: blur(6px);border-bottom:1px solid rgba(255,255,255,0.06) }
    .container{max-width:1100px;margin:0 auto;padding:16px}
    .topbar{display:flex;gap:16px;align-items:center}
    .logo{width:56px;height:56px;border-radius:12px;object-fit:cover;border:1px solid rgba(255,255,255,0.12)}
    .title{font-size:1.4rem;font-weight:700;line-height:1.1}
    .subtitle{font-size:0.95rem;color:var(--muted)}
    .pill{display:inline-flex;align-items:center;gap:.5rem;background:rgba(14,165,233,.12);border:1px solid rgba(14,165,233,.3);color:#bfe8fb;padding:.4rem .7rem;border-radius:999px;font-size:.85rem}
    nav{margin-top:12px;display:flex;flex-wrap:wrap;gap:8px}
    .tab{cursor:pointer;border:1px solid rgba(255,255,255,0.12);background:#0f172a;color:#e2e8f0;padding:.5rem .8rem;border-radius:999px;font-size:.9rem}
    .tab.active{background:var(--brand);border-color:var(--brand-dark);color:#06121b}
    .hero{padding:24px 0} .hero .row{display:flex;gap:20px;flex-wrap:wrap;align-items:center}
    .card{background:var(--card);border:1px solid rgba(255,255,255,0.06);border-radius:18px;padding:16px}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .menu-grid{margin-top:14px}
    .menu-card{grid-column:span 12;display:flex;gap:14px;align-items:flex-start}
    @media(min-width:640px){.menu-card{grid-column:span 6}}
    @media(min-width:1024px){.menu-card{grid-column:span 4}}
    .thumb{width:92px;height:92px;border-radius:12px;object-fit:cover;border:1px solid rgba(255,255,255,.08);background:#0a0f1a}
    .meta{flex:1} .meta h3{margin:0 0 6px 0;font-size:1.05rem} .desc{color:var(--muted);font-size:.9rem;margin:0}
    .price{font-weight:700;margin-left:auto} .row-line{display:flex;gap:8px;align-items:center;justify-content:space-between}
    .badge{font-size:.75rem;color:#cde5f7;border:1px solid rgba(14,165,233,.3);background:rgba(14,165,233,.1);padding:.2rem .5rem;border-radius:999px}
    section{margin:26px 0} section h2{margin:0 0 8px 0;font-size:1.3rem} .section-sub{color:var(--muted);font-size:.95rem;margin-top:0}
    footer{margin-top:32px;border-top:1px solid rgba(255,255,255,0.06)} .footer-grid{display:grid;gap:16px;grid-template-columns:1fr} @media(min-width:640px){.footer-grid{grid-template-columns:1fr 1fr}}
    .small{color:var(--muted);font-size:.9rem} .cta{display:inline-flex;gap:.5rem;align-items:center;background:var(--accent);border:1px solid #16a34a;color:#04110a;padding:.6rem .9rem;border-radius:12px;text-decoration:none;font-weight:700}
    .quicklinks{margin-top:8px;display:flex;flex-wrap:wrap;gap:8px} .quicklinks .tab{text-decoration:none;line-height:1}
    .table{width:100%;border-collapse:collapse;border-spacing:0} .table th,.table td{border-bottom:1px solid rgba(255,255,255,0.08);padding:10px;text-align:left;font-size:.9rem}
    .kpi{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px} .kpi .mini{background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.08);padding:.2rem .5rem;border-radius:999px;font-size:.8rem}
    .notice{background:rgba(34,197,94,0.08);border:1px dashed rgba(34,197,94,0.3);padding:10px;border-radius:12px;color:#c9f5d6}
    .warn{background:rgba(234,179,8,0.08);border:1px dashed rgba(234,179,8,0.3);color:#ffe9b0}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="topbar">
        <img class="logo" src="assets/images/logo.png" alt="Thai Bites Street Food logo" />
        <div>
          <div class="title">Thai Bites Street Food</div>
          <div class="subtitle">Pick-up & Delivery • Rydal Avenue, Hindley, Wigan, WN2 3QQ</div>
        </div>
        <span class="pill" style="margin-left:auto">No eat-in • Card/Cash accepted</span>
      </div>
      <nav id="tabs"></nav>
      <nav id="quicklinks" class="quicklinks">
        <a class="tab" href="#specials">Specials</a>
        <a class="tab" href="#menu">Menu</a>
        <a class="tab" href="#prepped">Pre-prepped</a>
        <a class="tab" href="#allergens">Allergens</a>
        <a class="tab" href="#nutrition">Nutrition</a>
        <a class="tab" href="#athlete">Athlete</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="row">
        <div class="card" style="flex:1">
          <h2 style="margin:0 0 6px 0">Fresh Thai flavours, fast.</h2>
          <p class="small" style="margin:0 0 10px 0">Order for <strong>pick-up</strong> or <strong>delivery</strong>. Images will be replaced with your real photos.</p>
          <a class="cta" href="#menu">View Menu</a>
        </div>
      </div>
    </section>

    <section id="specials">
      <h2>Chef Specials</h2>
      <p class="section-sub">Weekly specials — shown publicly here.</p>
      <div id="specialsGrid" class="grid menu-grid"></div>
    </section>

    <section id="menu">
      <h2>Menu</h2>
      <p class="section-sub">Browse by category below. Prices shown in GBP. All specials and menu items are shown.</p>
      <div id="menuGrid" class="grid menu-grid"></div>
    </section>

    <section id="prepped">
      <h2>Pre-Prepped Meals</h2>
      <p class="section-sub">Convenient, portion-controlled boxes. Macros shown per box (estimates).</p>
      <div id="preppedGrid" class="grid menu-grid"></div>
    </section>

    <section id="allergens">
      <h2>Allergens</h2>
      <p class="section-sub">Please <strong>inform us of any allergies</strong> when ordering.</p>
      <div id="allergenLegend" class="kpi" style="margin-bottom:10px"></div>
      <div class="card">
        <table class="table" id="allergenTable">
          <thead>
            <tr><th>Item</th><th>Allergens</th><th>Notes</th></tr>
          </thead>
          <tbody></tbody>
        </table>
        <p class="small warn" style="margin-top:10px">Made in a kitchen that handles nuts, sesame, gluten, soy, eggs, milk, fish, and shellfish.</p>
      </div>
    </section>

    <section id="nutrition">
      <h2>Typical Nutrition (per 100g)</h2>
      <div class="card">
        <table class="table" id="nutritionTable">
          <thead>
            <tr><th>Item</th><th>kcal</th><th>Protein</th><th>Carbs</th><th>Fat</th><th>Sugars</th><th>Salt</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <section id="athlete">
      <h2>Athlete Meal Suggestions</h2>
      <div id="athleteGrid" class="grid menu-grid"></div>
    </section>

    <footer>
      <div class="container" style="padding:16px 0">
        <div class="footer-grid">
          <div>
            <h3 style="margin:0 0 8px 0">Contact</h3>
            <p class="small" style="margin:0">Facebook: <a href="https://www.facebook.com/ThaiBitesStreetFood" target="_blank" rel="noopener">Thai Bites Street Food</a></p>
            <p class="small" style="margin:4px 0 0 0">Address: Rydal Avenue, Hindley, Wigan, WN2 3QQ</p>
          </div>
          <div>
            <h3 style="margin:0 0 8px 0">Hours</h3>
            <p class="small" style="margin:0">See Facebook for latest opening times.</p>
          </div>
        </div>
        <p class="small" style="margin:14px 0 0 0">© <span id="year"></span> Thai Bites Street Food</p>
      </div>
    </footer>
  </main>

  <script>
    let categories = [{ id: 'starters', label: 'Starters' },{ id: 'mains', label: 'Mains' },{ id: 'sides', label: 'Sides' },{ id: 'drinks', label: 'Drinks' }];
    let specials = [{ name:'Hor Mok Fish', price:12.5, description:'Steamed Thai curry fish custard, served with rice.', img:'assets/images/placeholders/hor-mok.jpg' },{ name:'Noodle Soup', price:12.5, description:'Aromatic broth with noodles and fresh herbs.', img:'assets/images/placeholders/noodle-soup.jpg' },{ name:'Khao Man Ghai', price:12.5, description:'Poached chicken on fragrant rice with ginger-garlic sauce.', img:'assets/images/placeholders/khao-man-ghai.jpg' }];
    let menu = [{ name:'Salt & Pepper Chips', price:3, description:'Crispy chips tossed with salt, pepper, and aromatics.', img:'assets/images/salt-pepper-chips.jpg', category:'sides' },{ name:'Boiled Jasmine Rice', price:2, description:'Plain steamed jasmine rice.', img:'assets/images/jasmine-rice.jpg', category:'sides' }];
    const preppedMeals = [{ name:'Lemongrass Chicken + Rice', price:5.5, kcal:500, protein:35, carbs:60, fat:12, description:'Pre-portioned lunch box.', img:'assets/images/placeholders/meal-lemongrass.jpg' },{ name:'Tofu & Veg Stir-fry + Rice', price:5, kcal:420, protein:20, carbs:62, fat:10, description:'Vegan option.', img:'assets/images/placeholders/meal-tofu.jpg' }];
    const allergensLegend = ['Gluten','Eggs','Milk','Soy','Fish','Crustaceans','Molluscs','Peanuts','Tree Nuts','Sesame','Celery','Mustard','Sulphites','Lupin'];
    const allergensMap = [{ item:'Salt & Pepper Chips', allergens:['Sesame (seasoning) – check','Gluten – if soy sauce used'], note:'Seasoning can vary — confirm on the day.' },{ item:'Boiled Jasmine Rice', allergens:[], note:'Naturally gluten-free.' }];
    const nutrition100g = [{ item:'Boiled Jasmine Rice', kcal:130, protein:2.4, carbs:28.2, fat:0.3, sugar:0.1, salt:0.01 }];

    function money(n){ return `£${(+n).toFixed(2)}`.replace('.00',''); }
    function makeCard(item){
      const card=document.createElement('div'); card.className='menu-card card';
      card.innerHTML = `<img class="thumb" src="${item.img}" alt="${item.name}" onerror="this.src='assets/images/placeholders/placeholder.jpg'"/><div class="meta"><div class="row-line"><h3>${item.name}</h3><div class="price">${money(item.price)}</div></div>${item.description?`<p class="desc">${item.description}</p>`:''}</div>`; return card;
    }
    function renderTabs(){ const tabsEl=document.getElementById('tabs'); tabsEl.innerHTML=''; const allBtn=document.createElement('button'); allBtn.textContent='All'; allBtn.className='tab active'; allBtn.dataset.filter='all'; tabsEl.appendChild(allBtn); categories.forEach(c=>{ const btn=document.createElement('button'); btn.textContent=c.label; btn.className='tab'; btn.dataset.filter=c.id; tabsEl.appendChild(btn); }); tabsEl.addEventListener('click',e=>{ const t=e.target.closest('.tab'); if(!t) return; document.querySelectorAll('#tabs .tab').forEach(x=>x.classList.remove('active')); t.classList.add('active'); renderMenu(t.dataset.filter); }); }
    function renderMenu(filter='all'){ const menuGrid=document.getElementById('menuGrid'); menuGrid.innerHTML=''; const items=filter==='all'? menu : menu.filter(i=>i.category===filter); if(items.length===0){ const empty=document.createElement('div'); empty.className='card'; empty.style.gridColumn='1 / -1'; empty.textContent='Menu is being updated — check back shortly.'; menuGrid.appendChild(empty); return; } items.forEach(item=>menuGrid.appendChild(makeCard(item))); }
    function renderSpecials(){ const specialsGrid=document.getElementById('specialsGrid'); specialsGrid.innerHTML=''; specials.forEach(item=>specialsGrid.appendChild(makeCard(item))); }
    function renderPreppedMeals(){ const grid=document.getElementById('preppedGrid'); if(!grid) return; grid.innerHTML=''; preppedMeals.forEach(m=>{ const card=makeCard(m); const meta=card.querySelector('.meta'); const kpi=document.createElement('div'); kpi.className='kpi'; ['kcal','protein','carbs','fat'].forEach(key=>{ const span=document.createElement('span'); span.className='mini'; const suffix=key==='kcal'?'kcal':'g'; span.textContent=`${key}: ${m[key]}${suffix}`; kpi.appendChild(span); }); meta.appendChild(kpi); grid.appendChild(card); }); }
    function renderAllergens(){ const legend=document.getElementById('allergenLegend'); const tbody=document.querySelector('#allergenTable tbody'); if(legend){ legend.innerHTML=''; allergensLegend.forEach(a=>{ const chip=document.createElement('span'); chip.className='mini'; chip.textContent=a; legend.appendChild(chip); }); } if(tbody){ tbody.innerHTML=''; allergensMap.forEach(row=>{ const tr=document.createElement('tr'); const list=row.allergens&&row.allergens.length? row.allergens.join(', ') : 'None known'; tr.innerHTML=`<td>${row.item}</td><td>${list}</td><td>${row.note||''}</td>`; tbody.appendChild(tr); }); } }
    function renderNutrition(){ const tbody=document.querySelector('#nutritionTable tbody'); if(!tbody) return; tbody.innerHTML=''; const fmt=v=>(v===null||v===undefined)?'TBC':(typeof v==='number'?(Number.isInteger(v)?v:v.toFixed(1)):v); nutrition100g.forEach(n=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td>${n.item}</td><td>${fmt(n.kcal)}</td><td>${fmt(n.protein)}g</td><td>${fmt(n.carbs)}g</td><td>${fmt(n.fat)}g</td><td>${fmt(n.sugar)}g</td><td>${fmt(n.salt)}g</td>`; tbody.appendChild(tr); }); }
    function renderAthlete(){ const grid=document.getElementById('athleteGrid'); if(!grid) return; grid.innerHTML=''; const plans=[{ title:'Shred (Cut)', target:'~450–650 kcal/meal', tips:['Choose lean proteins','Swap chips for veg','Go lighter on sauces'], sample:'Tofu & Veg + half rice; add steamed veg.' },{ title:'Bulk', target:'~700–900 kcal/meal', tips:['Double protein portions','Add extra rice','Pick a higher-calorie side'], sample:'Lemongrass Chicken + extra rice + side of chips.' },{ title:'Maintain / Perform', target:'~600–750 kcal/meal', tips:['Balance carbs & protein','Include some healthy fats','Hydrate well'], sample:'Noodle Soup (special) + boiled rice.' }]; plans.forEach(p=>{ const card=document.createElement('div'); card.className='card'; card.innerHTML=`<h3 style="margin-top:0">${p.title}</h3><p class="small"><strong>Target:</strong> ${p.target}</p><ul class="small" style="margin:8px 0 8px 18px">${p.tips.map(t=>`<li>${t}</li>`).join('')}</ul><p class="small"><strong>Sample:</strong> ${p.sample}</p>`; grid.appendChild(card); }); }

    // ---- Public CSV loader (data/public_menu.csv) ----
    function parseCSV(text){ const out=[], row=[]; let cell='', q=false; for(let i=0;i<text.length;i++){ const ch=text[i], nx=text[i+1]; if(ch==='"'){ if(q && nx==='"'){ cell+='"'; i++; } else { q=!q; } } else if(ch===',' && !q){ row.push(cell); cell=''; } else if((ch==='
' || ch==='') && !q){ if(cell!=='' || row.length){ row.push(cell); out.push(row.splice(0)); cell=''; } } else { cell+=ch; } } if(cell!=='' || row.length){ row.push(cell); out.push(row); } return out.filter(r=>r.length>1); }
    async function loadPublicMenu(){ try{ const res=await fetch('data/public_menu.csv',{cache:'no-store'}); if(!res.ok) return false; const text=await res.text(); const rows=parseCSV(text); const head=rows.shift().map(h=>h.toLowerCase().trim()); const idx=k=>head.indexOf(k); const m=[], s=[], seen=new Set(); for(const r of rows){ const get=k=>idx(k)===-1?'':(r[idx(k)]||''); const item={ name:get('name'), price:Number(get('price')||0), description:get('description'), img:get('image')? `assets/images/${get('image')}` : 'assets/images/placeholders/placeholder.jpg', category:(get('category')||'mains').toLowerCase() }; const special=['true','1','yes','y'].includes(String(get('special')).toLowerCase()); if(special){ s.push({name:item.name, price:item.price, description:item.description, img:item.img}); } else { m.push(item); seen.add(item.category); } } menu=m; specials=s; categories=Array.from(seen).sort().map(id=>({ id, label: id.replace(/\b\w/g,c=>c.toUpperCase()) })); renderTabs(); renderMenu('all'); renderSpecials(); renderAllergens(); return true; } catch(e){ console.warn('public_menu.csv not loaded'); return false; } }

    // Boot
    renderTabs(); renderMenu('all'); renderSpecials(); renderPreppedMeals(); renderAllergens(); renderNutrition(); renderAthlete(); document.getElementById('year').textContent = new Date().getFullYear(); loadPublicMenu();
  </script>
</body>
</html>